<mat-toolbar color="primary" fxFlex="0 1 auto" *ngIf="routerEvents$ | async">
  <span fxFlex="0 1 auto" class="logo-container" fxLayout="row" fxLayoutAlign="start center">
    <img
      *ngIf="!showBackButton"
      class="logo-container_image"
      [src]="logoSrc"
      alt="{{ appName }}"
      [routerLink]="[!auth.authenticated ? '' : 'user']"
    />

    <button mat-icon-button *ngIf="showBackButton" (click)="goBack()">
      <mat-icon title="{{ 'back' | translate }}"> arrow_back </mat-icon>
    </button>
  </span>

  <span fxFlex="1 1 auto"></span>

  <button
    mat-button
    *ngFor="let button of buttons | buttonsVisibility: auth.authenticated"
    [routerLink]="button.routerLink"
    [disabled]="button.routeActive()"
    (click)="sidebarCloseHandler()"
    (click)="button.click ? button.click() : null"
    [fxHide.xs]="true"
    [fxHide.sm]="true"
  >
    <mat-icon>{{ button.icon }}</mat-icon> {{ button.title }}
  </button>

  <button mat-icon-button [matMenuTriggerFor]="mobileMenuTop" [fxHide.md]="true" [fxHide.lg]="true" [fxHide.xl]="true">
    <mat-icon *ngIf="!auth.authenticated">menu</mat-icon>
    <mat-icon *ngIf="auth.authenticated">account_circle</mat-icon>
  </button>

  <mat-menu #mobileMenuTop="matMenu" [fxHide.md]="true" [fxHide.lg]="true" [fxHide.xl]="true">
    <a
      mat-menu-item
      *ngFor="let button of buttons | buttonsVisibility: auth.authenticated"
      [routerLink]="button.routerLink"
      [disabled]="button.routeActive()"
      (click)="button.click ? button.click() : null"
    >
      <mat-icon>{{ button.icon }}</mat-icon> {{ button.title }}
    </a>
  </mat-menu>
</mat-toolbar>
